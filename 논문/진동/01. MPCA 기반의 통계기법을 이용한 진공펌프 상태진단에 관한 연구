논문 :  MPCA 기반의 통계기법을 이용한 진공펌프 상태진단에 관한 연구
논문 저자 :  성동원1*ㆍ김재환1ㆍ정원태1ㆍ이수갑1ㆍ정완섭2ㆍ임종연2ㆍ정광화2
https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE09230842

Update LSY : 2021 / 07 / 30  03:06


  < 서론 >
  
  1. 반도체 공정에서 사용되는 진공펌프는 비선형적인 특징을 가지고 있어 정확히 예측하기 어려움
  
  2. 적절한 교체시기를 아는 것이 불필요한 재원낭비를 막음
  
  3. 각 신호가 상호 독립적이지 못함
    따라서 다변량 통계기법을 사용하여 Hotelling's T^2 (이하 T2라 칭함)이라는 통계적 거리기법을 통해
    여러가지 신호를 동시에 고려하는 통계량으로 정보를 축약
  
  4. T2는 이상징후뿐만 아니라 변수들간의 함수관계(거리 정보를 뜻하는 듯)를  포함하는 통계량
  
  5. T2를 통해 한도를 설정 후 벗어면 이상징후를 보이는 것으로 간주
     따라서 범위 설정이 매우 중요
     
     
  < 실험 및 분석 >
  
    - 실험방법
      
      데이터를 얻기 위해 4종류의 센서를 부착 
      ( Inlet Pressure : 입구 압력, Booster Pump Acceleration : 펌프 추진 가속도, Dry Pump Acceleration : 건식 펌프 가속도
        Acoustic Pressure : 음압, Exhaust Pressure : 배출압, Booster Pump Current : 부스터 펌프 전류, Dry Pump Current : 드라이 펌프 전류 )
        
    
    
    
    - 분석절차
      
      크게 2 단계로 나뉨 
      
      1 단계에서는 진공펌프 교체설치 후 일정기간 동안을 정상동작 범위로 가정 ( 펌프마다 어느정도 성능이 다를 수 있으므로 교체 전 펌프의 동작범위와 비교 X )하고 
      이를 기반으로 기준자료로 사용할 T2의 값을 취득하게 된다
      펌프 특성상 사용 이후로 성능이 저하되므로 초기값을 가지고 모니터링
      정상동작 데이터를 HDS (Historical Data Set)이라 명명
      
      2 단계에서는 일정기간 이후 기존자료(HDS)와 비교하는 데이터셋을 설정
      이를 ODS(Observed Data Set)이라고 명명
        
        (1) 배치 생성 (Batch Generation)
        
          -반도체 제작 공정이 실제로 수행되는 구간만 별도로 추출하여 배치데이터로 저장.
          
          -흡입압력이 다름
          
          
        (2) 동적시간 왜곡 알고리즘 (Dynamic Time Warping Algorithm) (너무 오래된 알고리즘이라 원리만 이해하기)
        
          - 반도체 공정 소요시간은 제각각임 따라서 배치길이가 달라짐에 따라
            공분산행렬을 구하는 과정에서 역행렬 발산 가능성
            
          - 이를 방지하기 위한 Dynamic Time Warping(DTW) 기법을 도입
          
          - (1), (2), (3) 수식을 이해하기 위해 레퍼런스를 타려고 했지만 유료논문이라 못봄
          
          - 9가지의 변수들은 단위체계가 다름 따라서 관측값을 평균값으로 뺴고 표준편차로 나눠주는 스케일링 진행
            이러한 과정을 거치면 분석 수행 조건 완료
            
          - SVD를 통해 기여도가 큰 데이터 성분을 추출하여 정사영시키면 주성분을 얻을 수 있음
            
          - PCA 개념
            
            PCA가 말하는 것: 데이터들을 정사영 시켜 차원을 낮춘다면,
            어떤 벡터에 데이터들을 정사영 시켜야 원래의 데이터 구조를 제일 잘 유지할 수 있을까?
            PCA는 데이터의 분산(variance)을 최대한 보존하면서 서로 직교하는 새 기저(축)를 찾아,
            고차원 공간의 표본들을 선형 연관성이 없는 저차원 공간으로 변환하는 기법(정사영).
            선형회귀와는 다름 잔차를 최소화 하는 것과 달리 PCA는 분산을 최대화 시킴

          - CV를 통해 분산을 최대화 시켜 관찰한다고 하는데 이해 못함.
          
        (3) 이상점 제거
        
          - Kernel Smoothing Technique을 통하여 분포를 추정
          
          - 오른쪽 꼬리 부분에서  (%)에 해당하는 비율의 T2 지점을 찾아 UCL로 선정한 후 
            이 값을 넘어서는 T2 값을 데이터에서 제외시킨다 
            (위의 그림은 Right- Skewed 되어있어 median < mean, 즉 평균이 이상값에 예민하게 반응하여 오른쪽 끝을 5% 절삭한듯)
    
    
    
    
    - 결과 및 고찰
        
        
        (1) HDS 범위 선정
          
          
          - 기간을 선정하는데 여러가지 표본을 둠 ( 1일, 2일 ... )
            5일 이후로 안정화 되는것을 볼 수 있음
            
          - HDS는 성능과 연관됨 따라서 기존펌프와 교체펌프와 성능이 완전히 동일하다면 범위를 다시 선정할 필요가 없지만
            실은 그렇지 않음
            따라서 HDS를 그대로 가져갈 시 T2값이 상당히 많이 튀는걸 볼 수 있음
            
            
        (2) UCL (Upper Control Limits)
        
          
          - UCL = mean + factor * σ 대부분 3σ를 UCL로 둠
          
          - 현재 반도체 생산 현장(2006년 기준) 외부 상황 몇가지를 관찰하는 방식으로 이루어져
            전반적은 특성을 포괄적으로 고려했다고 볼 수 없으며 따라서 펌프 교체시점 또한 절대적으로 볼 수 없음 
            (이제와서 뭔소리를 하는건지 잘 모르겠다)
            
          - Case들을 보면 최적 교체시기를 관찰정도는 할 수 있는듯
          
          - 점진적으로 성능 나빠지는 경우는 관찰이 가능하지만 급격하게 나빠지는 경우 사전감지가 어려움
            
          


            
            
          
          
          
      
      
      
      
      
